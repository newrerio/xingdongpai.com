<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>Guide-line 环游世界</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
	<meta name="description" content="混迹社会的两种核心能力：抽象能力&|创造能力">
	<meta name="keywords" content="todo, passion, 效率, 热爱, 兴奋, 成功学, 交易学, 天赋, 兴趣, 目标, 日程">
	<meta name="author" content="大鸟/声银科技">
	
	<style>
		/**
		  isPhone == (hover == none && pointer == coarse) 
		  //hover has 2 const: none/hover 
		  https://developer.mozilla.org/en-US/docs/Web/CSS/@media/hover#hover 
		  //pointer has 3 const: none/fine/coarse 
		  https://developer.mozilla.org/en-US/docs/Web/CSS/@media/pointer 
		 */
		@media (hover: hover), (pointer: none), (pointer: fine) {
			.svg-ctrl {
				/*svg 750x1083*/
				background-image: url("web-750w.svg");
				background-repeat: no-repeat;
				background-position-x: center;
				background-size: contain;
				
				width: 100%;
				height: 1083px;
			}
		}

		@media (hover: none) and (pointer: coarse) {
			.svg-ctrl {
				/*svg 750x1781*/
				background-image: url("phone-750w.svg");
				background-repeat: no-repeat;
				background-position-x: center;
				background-size: contain;
				
				width: 100%;
				/*@2x*/
				/*1781x0.5859375(375/640-像素转手机)*/
				height: 1043.5546875px;
			}

			@media (min-width: 750px) {
				.svg-ctrl {
					/*@3x*/
					height: 1565.332px;
				}
			}
		}

		body {
			background-color: hsl(0 100% 99%);
			margin: 0;
		}
	</style>

<script type="text/javascript"></script>
	<script type="text/javascript">
		/*
		  e.g., with no network:
		  "https://developer.mozilla.org/en-US/"
		  NS_ERROR_NET_ON_RESOLVED in Firefox
		  net::ERR_INTERNET_DISCONNECTED in Chrome
		*/
		if (typeof browser === "undefined") {
	    	var browser = chrome;

			let target = "<all_urls>";
			function logReqError(res) {
				if (res.url.includes('.ico') == true) {
					//todo 错误时提示手动刷新网页

				}
			  	console.log(responseDetails.url);
			  	console.log(responseDetails.error);
			}
			browser.webRequest.onErrorOccurred.addListener(logReqError, { urls: [target] });
		}

		

		document.addEventListener("DOMContentLoaded", (event) => {
			console.log("DOM fully loaded and parsed");
			
			//极小.html架构下，客户端的缓存（svg）策略
			//html已经加载完成后
			//	无svg缓存时
			//		第1步访问10k小ico文件，错误时提示手动刷新网页
			//		第2步显示菊花等待标示，以及读取（网络或本地）错误的提示
			//	有svg缓存时
			//		先显示菊花等待标示（svg可能极大..todo progress提示）
			//		再 自动显示缓存svg
		});


		window.addEventListener("error", (event) => {
			log.textContent = `${log.textContent}${event.type}: ${event.message}\n`;
			console.log(event);
		});
		window.onunhandledrejection = (e) => {
			console.log(e.reason);
		};
		window.addEventListener("rejectionhandled", (event) => {
				console.log(`Promise rejected; reason: ${event.reason}`);
			},
			false,
		);
	</script>
</head>	

<body>
	<div class="fill-ctrl">
		<div class="svg-ctrl"></div>
	</div>
</body>

</html>